{% extends 'base.html' %}
{% block title %}{{ journal_name }}{% endblock title %}
{% block content %}


<a class="go-back" href="{% url 'home' %}">back home</a>

<div class="journal-name-header">
    <h2 class="journal-name">{{ journal_name }}</h2>
    <span onclick="editJournal(); this.onclick=null"><i class="fas fa-pen-square"></i></span>
</div>

<div class="delete-rename-block">
  <a id="rename-button" href="{% url 'rename-journal' slug %}">Rename</a>
  <a id="delete-button" href="{% url 'delete-journal' slug %}">Delete</a>
</div>


<button id="journal-to-hide" class="add-entry-button" onclick="inputJournal(); this.onclick=null;">Add Entry</button>
<div id="new-journal">
  <form class="" id="myJournalForm" action="" method="post">
    {% csrf_token %}
    {{ form }}
    <button type="submit" class="add-entry-button">Add Entry</button>
  </form>
</div>




  <div id="entries">
    {% regroup to_journal_entries by entry_date|date:'F j, Y' as journal_entries %}

      {% for journal_entry_date in journal_entries %}

      <div class="entry-card">
        <h1 class="entry-date">{{ journal_entry_date.grouper }}</h1>

        {% for journal_entry in journal_entry_date.list %}
        <div class="entry">
          <p>{{ journal_entry.body|urlize }} - <span class='small-text'>@{{ journal_entry.entry_date|date:'P' }}</span></p>
          <a class="edit-entry-button-main" href="{% url 'edit-journal-entry' journal_entry.id %}"><i class="fas fa-pen fa-xs" style="color: grey; font-size: 15px;"></i></a>
        </div>
        {% endfor %}
      </div>

      {% endfor %}


  </div>





{% endblock content %}
